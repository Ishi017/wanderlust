<% layout("/layouts/boilerplate") %>
<body>
    <div class="filters">
      <a href="/listings/category/trending"  class="filter  <%= currentPath === '/category/trending' ? 'active' : '' %>">
        <i class="fa-solid fa-fire"></i>
        <p>Trending</p>
      </a>
      <a href="/listings/category/city" class="filter  <%= currentPath === '/category/city' ? 'active' : '' %>">
        <i class="fa-solid fa-city"></i>
        <p>Top Cities</p>
      </a>
      <a href="/listings/category/mountains" class="filter  <%= currentPath === '/category/mountains' ? 'active' : '' %>">
        <i class="fa-solid fa-mountain"></i>
        <p>Mountains</p>
      </a>
      <a href="/listings/category/beaches" class="filter  <%= currentPath === '/category/beaches' ? 'active' : '' %>">
        <i class="fa-solid fa-umbrella-beach"></i>
        <p>Beaches</p>
      </a>
      <a href="/listings/category/pool" class="filter <%= currentPath === '/category/pool' ? 'active' : '' %>">
        <i class="fa-solid fa-person-swimming"></i>
        <p>Swimming Pools</p>
      </a>
      <a href="/listings/category/lake" class="filter  <%= currentPath === '/category/lake' ? 'active' : '' %>">
        <i class="fa-solid fa-water"></i>
        <p>Lake Front</p>
      </a>
      <a href="/listings/category/gym" class="filter  <%= currentPath === '/category/gym' ? 'active' : '' %>">
        <i class="fa-solid fa-dumbbell"></i>
        <p>Fancy Gyms</p>
      </a>
      <a href="/listings/category/nature"  class="filter  <%= currentPath === '/category/nature' ? 'active' : '' %>">
        <i class="fa-solid fa-leaf"></i>
        <p>Nature</p>
      </a>
      <a href="/listings/category/camps"  class="filter  <%= currentPath === '/category/camps' ? 'active' : '' %>">
        <i class="fa-solid fa-tent"></i>
        <p>Camps</p>
      </a>

      <div class="tax-toggle">
        <div class="form-check-reverse form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
          <label class="form-check-label" for="flexSwitchCheckDefault">Display taxes</label>
        </div>
      </div>
    </div>


    <div class="row row-cols-lg-3  row-cols-md-2  row-cols-sm-1">
    <% for( let list of allListings) { %>
        <a class="listing-link" href="/listings/<%= list._id %>">
    <div class="card cols listing-card" >
        <img src="<%= list.image.url %>" class="card-img-top listing-img" alt="listing image" style="height: 18rem;">
        <div class="card-img-overlay">.</div><br/>
        <div class="card-body">
            <h6 class="card-title"><%= list.title%></h6>
            <p class=" card-price">&#8377;<%= list. price.toLocaleString("en-IN") %>/night
              <i class="tax-info">&nbsp; &nbsp; +18% GST</i></p>
        </div>
      </div>
    </a>
      <% } %>
    </div>

    <script>

      let taxSwitch = document.getElementById("flexSwitchCheckDefault");
      taxSwitch.addEventListener("click", () => {
        let taxInfo = document.getElementsByClassName("tax-info");
        for(info of taxInfo){
          if(info.style.display != "inline"){
            info.style.display = "inline" ;
          } else {
            info.style.display = "none";
          }

        }
      });
    </script>


</body>

<!-- IshitaJain1708@gmail.com -->